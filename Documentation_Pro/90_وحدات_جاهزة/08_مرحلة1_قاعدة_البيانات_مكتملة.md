# โ ุงููุฑุญูุฉ 1 ููุชููุฉ: ูุงุนุฏุฉ ุงูุจูุงูุงุช

**ุงูุชุงุฑูุฎ:** 2025-01-26  
**ุงูุญุงูุฉ:** โ ููุชูู

---

## ๐ ูุง ุชู ุฅูุฌุงุฒู

### 1. ุชุญุฏูุซ ุฌุฏูู HR_EmployeeLeave
โ ุฅุถุงูุฉ 10 ุญููู ุฌุฏูุฏุฉ:
- `leaveNumber` - ุฑูู ุงูุฅุฌุงุฒุฉ ุงููุฑูุฏ
- `isActive` - ุญุงูุฉ ุงููุดุงุท
- `actualReturnDate` - ุชุงุฑูุฎ ุงูุนูุฏุฉ ุงููุนูู
- `delayDays` - ุฃูุงู ุงูุชุฃุฎูุฑ
- `isPostponed` - ุญุงูุฉ ุงูุชุฃุฌูู
- `postponedTimes` - ุนุฏุฏ ูุฑุงุช ุงูุชุฃุฌูู
- `allowanceAmount` - ูุจูุบ ุงูุจุฏู
- `allowanceSettled` - ุญุงูุฉ ุชุณููุฉ ุงูุจุฏู
- `medicalReportPath` - ูุณุงุฑ ุงูุชูุฑูุฑ ุงูุทุจู
- `affectsNextLeave` - ุชุฃุซูุฑ ุนูู ุงูุฅุฌุงุฒุฉ ุงููุงุฏูุฉ

โ ุชุญููู `leaveType` ูู String ุฅูู Enum

### 2. ุฅูุดุงุก ุฌุฏูู HR_EmployeeMission (ุฌุฏูุฏ)
โ ุฌุฏูู ูุงูู ูููุฃููุฑูุงุช ูุน:
- `missionNumber` - ุฑูู ุงููุฃููุฑูุฉ
- `missionType` - ููุน ุงููุฃููุฑูุฉ (Enum)
- ุฌููุน ุงูุญููู ุงููุทููุจุฉ ููุชุชุจุน

### 3. ุฅุถุงูุฉ Enum ุฌุฏูุฏ
โ `MissionType` (TASK_EXECUTION, EXTERNAL_WORK)

### 4. ุชุญุฏูุซ ุงูุนูุงูุงุช
โ ุฅุถุงูุฉ ุนูุงูุฉ `missions` ูู ุฌุฏูู Employee

---

## ๐๏ธ ุงููููุงุช ุงููุนุฏูุฉ

1. โ `prisma/schema.prisma` - ุชุญุฏูุซ ุงูู schema
2. โ `prisma/migrations/20251026151253_add_leave_mission_fields/migration.sql` - ุงูู migration
3. โ `prisma/dev.db` - ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ
4. โ `prisma/dev.db.backup-*` - ูุณุฎุฉ ุงุญุชูุงุทูุฉ
5. โ `generated/prisma/*` - Prisma Client ูุญุฏุซ

---

## ๐ฏ ุงูุฎุทูุฉ ุงูุชุงููุฉ

### ุงููุฑุญูุฉ 2: ุงูุฎุฏูุงุช ุงูุฃุณุงุณูุฉ

ูุฌุจ ุฅูุดุงุก:

1. **leave-number-generator.ts** - ุชูููุฏ ุฃุฑูุงู ุงูุฅุฌุงุฒุงุช ูุงููุฃููุฑูุงุช
   ```typescript
   generateLeaveNumber() โ "LV-2025-001"
   generateMissionNumber() โ "MS-2025-001"
   ```

2. **leave-schedule.service.ts** - ุญุณุงุจ ููุงุนูุฏ ุงูุฅุฌุงุฒุงุช
   ```typescript
   calculateNextLeave(employee) โ { startDate, endDate, returnDate }
   updateLeaveSchedule(employee, leave)
   ```

3. **leave-notifications.ts** - ูุธุงู ุงูุฅุดุนุงุฑุงุช
   ```typescript
   notifyBeforeLeave(leave) // ูุจู 24 ุณุงุนุฉ
   notifyBeforeReturn(leave) // ูุจู 24 ุณุงุนุฉ
   notifyDelayedLeave(employee) // ุชุฃุฎุฑ ุงูุชุณุฌูู
   ```

---

## ๐ ููุงุญุธุงุช

- โ Schema ุตุญูุญ ููุชุญูู ููู
- โ Migration ูุทุจู ุจูุฌุงุญ
- โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุญุฏุซุฉ
- โ Prisma Client ุชู ุฅุนุงุฏุฉ ุชูููุฏู
- โ ูุณุฎุฉ ุงุญุชูุงุทูุฉ ุชู ุฅูุดุงุคูุง
- โ Git commits ุชูุช

---

## ๐ ุฌุงูุฒ ูููุฑุญูุฉ ุงูุชุงููุฉ!

**ูู ุชุฑูุฏ ุงูุจุฏุก ูู ุงููุฑุญูุฉ 2ุ**
