# 09 - واجهات المستخدم

## 🎯 نظرة عامة

هذا القسم يوثق **التدفقات والواجهات التفاعلية** في بوت Telegram بدون أكواد برمجية.

---

## 👥 المستخدمون

### **1. SUPER_ADMIN:**
- إدارة كاملة للنظام
- إعدادات الرواتب
- اعتماد التسويات
- عرض جميع التقارير

### **2. ADMIN:**
- حساب الرواتب
- إصدار التسويات
- عرض تقارير الموظفين

### **3. الموظف (USER):**
- عرض راتبه فقط
- عرض تسوياته
- طلب مساعدة

---

## 📱 قائمة SUPER_ADMIN

```
🏠 القائمة الرئيسية
├── 💼 الموارد البشرية
│   ├── 💰 نظام الرواتب
│   │   ├── ⚙️ إعدادات الرواتب
│   │   ├── 🧮 حساب الرواتب
│   │   ├── 📊 التسويات
│   │   ├── 📈 التقارير
│   │   └── 🔔 الإشعارات
│   ├── 👥 إدارة الموظفين
│   ├── 🏖️ نظام الإجازات
│   └── 💵 السلف والمسحوبات
└── ⚙️ الإعدادات العامة
```

---

## ⚙️ إعدادات الرواتب

### **الواجهة:**

```
⚙️ إعدادات نظام الرواتب

اختر نوع الإعدادات:

┌─────────────────────────────────┐
│ 📋 إعدادات الوظائف             │
│ إعدادات افتراضية لكل وظيفة      │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 👤 إعدادات موظفين محددين        │
│ إعدادات خاصة تلغي الافتراضية    │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 🎁 إدارة المكافآت الشهرية      │
│ إضافة/تعديل/حذف المكافآت        │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📦 إدارة المسحوبات العينية      │
│ الأصناف والأسعار والكميات اليومية│
└─────────────────────────────────┘

[🔙 رجوع]
```

---

### **إعدادات الوظائف - التدفق:**

```
1. الضغط على "إعدادات الوظائف"
   ↓
2. عرض قائمة الوظائف:
   ┌────────────────────────────┐
   │ 👷 مهندس موقع              │
   │ 🔧 فني                     │
   │ 👨‍💼 محاسب                  │
   │ 🚗 سائق                    │
   └────────────────────────────┘
   [➕ إضافة وظيفة جديدة]
   ↓
3. اختيار وظيفة → عرض التفاصيل:
   ═══════════════════════════════
   إعدادات وظيفة: مهندس موقع
   ═══════════════════════════════
   
   💰 البدلات الشهرية: 1000 جنيه
   [✏️ تعديل]
   
   📦 المسحوبات العينية:
   • سجائر: 2 علبة/يوم (10 ج)
   • مشروبات: 1 زجاجة/يوم (5 ج)
   [➕ إضافة صنف] [✏️ تعديل]
   
   [💾 حفظ] [❌ إلغاء]
   ↓
4. تعديل البدلات:
   ═══════════════════════════════
   تعديل البدلات
   ═══════════════════════════════
   
   أرسل قيمة البدلات الشهرية الجديدة:
   (المبلغ الحالي: 1000 جنيه)
   
   [❌ إلغاء]
   ↓
   (المستخدم يرسل: 1200)
   ↓
   ✅ تم تحديث البدلات إلى 1200 جنيه
```

---

### **إدارة المكافآت - التدفق:**

```
1. الضغط على "إدارة المكافآت"
   ↓
2. اختيار موظف:
   ═══════════════════════════════
   اختر موظف لإدارة مكافآته:
   ═══════════════════════════════
   
   🔍 [بحث بالاسم أو الرقم]
   
   أو اختر من القائمة:
   • أحمد محمد علي
   • محمد سالم حسن
   • خالد أحمد علي
   ↓
3. عرض مكافآت الموظف:
   ═══════════════════════════════
   مكافآت: أحمد محمد علي
   ═══════════════════════════════
   
   ✅ المكافآت النشطة:
   ┌────────────────────────────┐
   │ 🏆 مكافأة تميز             │
   │ 300 جنيه | دائمة           │
   │ [✏️ تعديل] [❌ إيقاف]       │
   └────────────────────────────┘
   
   ┌────────────────────────────┐
   │ 💼 مكافأة مشروع            │
   │ 500 جنيه | حتى 31/12/2024 │
   │ [✏️ تعديل] [❌ إيقاف]       │
   └────────────────────────────┘
   
   [➕ إضافة مكافأة جديدة]
   ↓
4. إضافة مكافأة جديدة:
   ═══════════════════════════════
   إضافة مكافأة جديدة
   ═══════════════════════════════
   
   الخطوة 1: أدخل قيمة المكافأة (جنيه):
   ↓ (يرسل: 400)
   
   الخطوة 2: اختر نوع المكافأة:
   ┌────────────┐ ┌────────────┐
   │ 🔄 دائمة   │ │ ⏰ مؤقتة   │
   └────────────┘ └────────────┘
   ↓ (يختار: مؤقتة)
   
   الخطوة 3: حدد تاريخ الانتهاء:
   (مثال: 31/12/2024)
   ↓
   
   الخطوة 4: أدخل وصف المكافأة:
   (مثال: مكافأة إنجاز مشروع X)
   ↓
   
   ✅ تم إضافة المكافأة بنجاح!
```

---

## 🧮 حساب الرواتب

### **الواجهة الرئيسية:**

```
🧮 حساب الرواتب والتسويات

اختر العملية:

┌─────────────────────────────────┐
│ 📅 تسوية نصف شهرية (1-15)      │
│ صرف راتب فعلي لموظف محدد        │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 💰 حساب الرواتب الشهرية        │
│ حساب رواتب جميع الموظفين        │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📊 عرض التسويات السابقة         │
│ مراجعة جميع التسويات المصروفة   │
└─────────────────────────────────┘

[🔙 رجوع]
```

---

### **تسوية نصف شهرية - التدفق:**

```
1. الضغط على "تسوية نصف شهرية"
   ↓
2. التحقق من التاريخ:
   ═══════════════════════════════
   ⚠️ تنبيه
   ═══════════════════════════════
   
   التاريخ الحالي: 18 أكتوبر 2024
   
   التسوية النصف شهرية عادة تكون يوم 15
   هل تريد المتابعة؟
   
   [✅ نعم، متابعة] [❌ إلغاء]
   ↓
3. اختيار الموظف:
   ═══════════════════════════════
   اختر الموظف لصرف التسوية:
   ═══════════════════════════════
   
   🔍 [بحث بالاسم أو الرقم]
   
   أو اختر من القائمة:
   • أحمد محمد علي
   • محمد سالم حسن
   • خالد أحمد علي
   ↓
4. التحقق من وجود تسوية سابقة:
   ═══════════════════════════════
   ⚠️ تنبيه
   ═══════════════════════════════
   
   تم صرف تسوية لهذا الموظف سابقاً:
   • التاريخ: 15 أكتوبر 2024
   • المبلغ: 2550 جنيه
   
   لا يمكن صرف أكثر من تسوية في الشهر
   
   [📋 عرض التسوية] [🔙 رجوع]
   
   --- أو إذا لم توجد تسوية: ---
   ↓
5. حساب التسوية:
   ═══════════════════════════════
   ⏳ جاري حساب التسوية...
   ═══════════════════════════════
   
   ✅ تم الحساب بنجاح!
   ↓
6. عرض التفاصيل للمراجعة:
   ═══════════════════════════════
   تسوية نصف شهرية - أحمد محمد علي
   من 1-15 أكتوبر 2024
   ═══════════════════════════════
   
   📊 أيام العمل: 13 يوم
   🏖️ أيام الإجازة: 2 يوم
   
   ➕ المستحقات:
   • الراتب الأساسي: 2600 ج
   • البدلات: 500 ج
   • المكافآت: 200 ج
   • بدل مسحوبات: 220 ج
   ───────────────
   الإجمالي: 3520 ج
   
   ➖ الخصومات:
   • سلف: 800 ج
   • خصم تأخير: 200 ج
   ───────────────
   الإجمالي: 1000 ج
   
   💰 صافي التسوية: 2520 جنيه
   
   [✅ اعتماد وصرف] [❌ إلغاء]
   ↓
7. اختيار طريقة الدفع:
   ═══════════════════════════════
   اختر طريقة الدفع:
   ═══════════════════════════════
   
   ┌──────────┐ ┌──────────┐
   │ 💵 نقدي │ │ 🏦 بنكي │
   └──────────┘ └──────────┘
   
   ┌──────────┐
   │ 📱 محفظة│
   └──────────┘
   ↓
8. التأكيد النهائي:
   ═══════════════════════════════
   ✅ تم صرف التسوية بنجاح!
   ═══════════════════════════════
   
   المبلغ: 2520 جنيه
   الطريقة: تحويل بنكي
   الموظف: أحمد محمد علي
   
   📄 تم إرسال التقرير للموظف
   📊 [عرض التقرير] [📥 تحميل PDF]
```

---

### **حساب الرواتب الشهرية - التدفق:**

```
1. الضغط على "حساب الرواتب الشهرية"
   ↓
2. اختيار الشهر والسنة:
   ═══════════════════════════════
   حساب الرواتب الشهرية
   ═══════════════════════════════
   
   اختر الشهر:
   [أكتوبر ▼] [2024 ▼]
   
   [▶️ حساب الرواتب]
   ↓
3. بدء الحساب:
   ═══════════════════════════════
   ⏳ جاري حساب رواتب جميع الموظفين...
   ═══════════════════════════════
   
   تقدم العملية: [████░░░] 60%
   
   ✅ تم حساب: 12 موظف
   ⏳ قيد الحساب: 3 موظفين
   ❌ أخطاء: 0
   ↓
4. عرض الملخص:
   ═══════════════════════════════
   ملخص رواتب أكتوبر 2024
   ═══════════════════════════════
   
   عدد الموظفين: 15
   إجمالي المستحقات: 98,500 ج
   إجمالي الخصومات: 22,300 ج
   إجمالي الصافي: 76,200 ج
   
   📊 التفاصيل:
   ┌─────────────────────────────┐
   │ الموظف        الصافي        │
   ├─────────────────────────────┤
   │ أحمد علي     5855 ج  ✅    │
   │ محمد سالم    5300 ج  ✅    │
   │ خالد حسن     2800 ج  ⚠️    │
   │ علي أحمد     0 ج     ❌    │
   └─────────────────────────────┘
   
   [📋 عرض الكل] [📥 تصدير Excel]
   [✅ اعتماد وإرسال] [❌ إلغاء]
   ↓
5. اعتماد وإرسال:
   ═══════════════════════════════
   ✅ تم اعتماد الرواتب!
   ═══════════════════════════════
   
   ⏳ جاري إرسال الإشعارات...
   
   ✅ تم إرسال 15 إشعار للموظفين
   📊 تم حفظ التقارير
```

---

## 👤 واجهة الموظف

### **القائمة الرئيسية:**

```
🏠 القائمة الرئيسية

مرحباً أحمد محمد علي! 👋

┌─────────────────────────────────┐
│ 💰 راتبي                        │
│ عرض راتب الشهر الحالي           │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📊 رواتبي السابقة               │
│ عرض رواتب الأشهر الماضية        │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📋 تسوياتي                      │
│ عرض التسويات المصروفة            │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ ❓ مساعدة                       │
│ كيفية حساب الراتب والتسويات     │
└─────────────────────────────────┘
```

---

### **عرض الراتب - التدفق:**

```
1. الضغط على "راتبي"
   ↓
2. عرض آخر راتب:
   ═══════════════════════════════
   💰 راتب شهر أكتوبر 2024
   ═══════════════════════════════
   
   📅 تاريخ الإصدار: 31 أكتوبر
   
   ➕ المستحقات:
   • الراتب الأساسي: 6000 ج
   • البدلات: 1000 ج
   • المكافآت: 400 ج
   • بدل مسحوبات: 520 ج
   ───────────────
   الإجمالي: 7920 ج
   
   ➖ الخصومات:
   • سلف: 1400 ج
   • خصم تأخير: 600 ج
   • خصم مسحوبات زائدة: 65 ج
   ───────────────
   الإجمالي: 2065 ج
   
   💰 الصافي: 5855 جنيه
   
   [📥 تحميل PDF] [📤 مشاركة]
   [📊 رواتب سابقة]
```

---

## 🔔 الإشعارات

### **أنواع الإشعارات التلقائية:**

```
1. إشعار التسوية:
   ═══════════════════════════════
   🔔 تم صرف تسوية نصف شهرية
   ═══════════════════════════════
   
   💰 المبلغ: 2520 جنيه
   📅 الفترة: 1-15 أكتوبر
   
   [📋 عرض التفاصيل]

2. إشعار الراتب:
   ═══════════════════════════════
   🔔 راتب شهر أكتوبر جاهز!
   ═══════════════════════════════
   
   💰 الصافي: 5855 جنيه
   💳 سيتم التحويل خلال 24 ساعة
   
   [📋 عرض التفاصيل]

3. تذكير:
   ═══════════════════════════════
   ⏰ تذكير: اقتراب موعد الرواتب
   ═══════════════════════════════
   
   سيتم إصدار رواتب أكتوبر يوم 31
   
   تأكد من تسجيل جميع مسحوباتك
   
   [✅ حسناً]

4. تنبيه خصومات:
   ═══════════════════════════════
   ⚠️ تنبيه: خصومات مرتفعة
   ═══════════════════════════════
   
   خصومات هذا الشهر: 2065 ج
   • سلف: 1400 ج
   • تأخير: 600 ج (3 أيام)
   
   نصيحة: تجنب التأخير المتكرر
   
   [📋 التفاصيل]
```

---

## 📊 التقارير

### **عرض التقارير:**

```
اختر نوع التقرير:

┌─────────────────────────────────┐
│ 📄 تقرير موظف واحد              │
│ تقرير مبسط للموظف               │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📊 تقرير تفصيلي للإدارة         │
│ تقرير شامل بجميع التفاصيل       │
└─────────────────────────────────┘

┌─────────────────────────────────┐
│ 📈 تقرير جماعي                 │
│ رواتب جميع الموظفين             │
└─────────────────────────────────┘

[📥 تصدير Excel] [🖨️ طباعة]
```

---

## ➡️ الخطوة التالية

لفهم سيناريوهات عملية، انتقل إلى:

**[10 - سيناريوهات عملية](./10_سيناريوهات_عملية.md)**

---

[⬅️ السابق: تصميم قاعدة البيانات](./08_تصميم_قاعدة_البيانات.md) | [🏠 الفهرس](./00_الفهرس.md) | [➡️ التالي: سيناريوهات عملية](./10_سيناريوهات_عملية.md)
