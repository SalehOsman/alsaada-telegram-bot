# ุฏููู ุงุณุชุฎุฏุงู ูุธุงู ุงูุณูู ูุงููุณุญูุจุงุช

## ๐ ูุธุฑุฉ ุนุงูุฉ

ุชู ุชุทููุฑ ูุธุงู ุงูุณูู ูุงููุณุญูุจุงุช ุจุดูู ุงุญุชุฑุงูู ููุชูุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุชุ ูุน ุฏุนู ุตูุงุญูุงุช ูุชุนุฏุฏุฉ ุงููุณุชููุงุช ููุงุฌูุฉ ูุณุชุฎุฏู ุฃูููุฉ ูุณููุฉ ุงูุงุณุชุฎุฏุงู.

---

## ๐ฏ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### 1. **ุฅุฏุงุฑุฉ ุงูุนูููุงุช**
- ุชุณุฌูู ุณูู ููุฏูุฉ
- ุชุณุฌูู ูุณุญูุจุงุช ุนูููุฉ
- ุฑุจุท ูู ุนูููุฉ ุจููุธู ูุญุฏุฏ
- ุชุชุจุน ุญุงูุฉ ุงูุชุณููุฉ ููู ุนูููุฉ

### 2. **ุฅุฏุงุฑุฉ ุงูุฃุตูุงู ุงูุนูููุฉ** (ุงูุณูุจุฑ ุฃุฏููู ููุท)
- ุฅุถุงูุฉ ุฃุตูุงู ุฌุฏูุฏุฉ
- ุชุนุฏูู ุจูุงูุงุช ุงูุฃุตูุงู
- ุญุฐู ุฃู ุฅููุงู ุชูุนูู ุงูุฃุตูุงู
- ุชุญุฏูุฏ ุฃุณุนุงุฑ ููุญุฏุงุช ุงูููุงุณ

### 3. **ุงูุชุณููุงุช** (ุงูุณูุจุฑ ุฃุฏููู ููุท)
- ุชุณููุฉ ูุฑุฏูุฉ ูุนูููุฉ ูุงุญุฏุฉ
- ุชุณููุฉ ุฌูุงุนูุฉ ูุฌููุน ุงูุนูููุงุช
- ุชุณููุฉ ูุฎุตุตุฉ ููุฌููุนุฉ ูุฎุชุงุฑุฉ

### 4. **ุงูุชูุงุฑูุฑ**
- ุชูุงุฑูุฑ ุดูุฑูุฉ ููู ููุธู
- ุชูุงุฑูุฑ ุดุงููุฉ ูููุณู
- ุฅููุงููุฉ ุงูุชุตุฏูุฑ (ูุฑูุจุงู)

---

## ๐๏ธ ูููู ูุงุนุฏุฉ ุงูุจูุงูุงุช

### ุงูุฌุฏุงูู ุงููุถุงูุฉ:

#### 1. `HR_AdvanceItem` - ุงูุฃุตูุงู ุงูุนูููุฉ
```prisma
- id: ูุนุฑู ูุฑูุฏ
- nameAr: ุงูุงุณู ุจุงูุนุฑุจูุฉ
- nameEn: ุงูุงุณู ุจุงูุฅูุฌููุฒูุฉ (ุงุฎุชูุงุฑู)
- code: ููุฏ ูุฑูุฏ
- description: ุงููุตู
- price: ุงูุณุนุฑ
- unit: ูุญุฏุฉ ุงูููุงุณ
- category: ุงููุฆุฉ (ุงุฎุชูุงุฑู)
- orderIndex: ุชุฑุชูุจ ุงูุนุฑุถ
- isActive: ุญุงูุฉ ุงูุชูุนูู
- createdAt, updatedAt: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุนุฏูู
- createdBy, updatedBy: ูุนุฑูุงุช ุงููุณุชุฎุฏููู
```

#### 2. `HR_Transaction` - ุงูุนูููุงุช (ุงูุณูู ูุงููุณุญูุจุงุช)
```prisma
- id: ูุนุฑู ูุฑูุฏ
- transactionNumber: ุฑูู ุงูุนูููุฉ ุงููุฑูุฏ
- employeeId: ูุนุฑู ุงูููุธู
- transactionType: ููุน ุงูุนูููุฉ (CASH_ADVANCE ุฃู ITEM_WITHDRAWAL)
- itemId: ูุนุฑู ุงูุตูู (ูููุณุญูุจุงุช ุงูุนูููุฉ)
- quantity: ุงููููุฉ
- unitPrice: ุณุนุฑ ุงููุญุฏุฉ
- amount: ุงููุจูุบ ุงูุฅุฌูุงูู
- description: ุงูุจูุงู
- notes: ููุงุญุธุงุช
- isSettled: ุญุงูุฉ ุงูุชุณููุฉ
- settledAt: ุชุงุฑูุฎ ุงูุชุณููุฉ
- settledBy: ูู ูุงู ุจุงูุชุณููุฉ
- status: ุงูุญุงูุฉ (PENDING, APPROVED, REJECTED)
- approvedBy, approvedAt: ุงูููุงููุฉ
- rejectionReason: ุณุจุจ ุงูุฑูุถ
- createdAt, updatedAt: ุชูุงุฑูุฎ ุงูุฅูุดุงุก ูุงูุชุนุฏูู
```

#### 3. `HR_TransactionSettlement` - ุณุฌู ุงูุชุณููุงุช
```prisma
- id: ูุนุฑู ูุฑูุฏ
- transactionIds: ูุนุฑูุงุช ุงูุนูููุงุช ุงููุณูุงุฉ (JSON)
- settlementType: ููุน ุงูุชุณููุฉ (INDIVIDUAL, BULK, CUSTOM)
- totalAmount: ุงููุจูุบ ุงูุฅุฌูุงูู
- description: ุงูุจูุงู
- settledBy: ูู ูุงู ุจุงูุชุณููุฉ
- settledAt: ุชุงุฑูุฎ ุงูุชุณููุฉ
```

---

## ๐ค ุงูุตูุงุญูุงุช

### ุงูุณูุจุฑ ุฃุฏููู (SUPER_ADMIN)
- ุฌููุน ุตูุงุญูุงุช ุงูุฃุฏููู +
- ุฅุฏุงุฑุฉ ุงูุฃุตูุงู ุงูุนูููุฉ (ุฅุถุงูุฉ/ุชุนุฏูู/ุญุฐู)
- ุฅุฌุฑุงุก ุงูุชุณููุงุช (ูุฑุฏูุฉ/ุฌูุงุนูุฉ/ูุฎุตุตุฉ)
- ุงููุตูู ุฅูู ููุญุฉ ุงูุชุญูู ุงููุงููุฉ

### ุงูุฃุฏููู (ADMIN)
- ุชุณุฌูู ุนูููุงุช ุฌุฏูุฏุฉ (ุณูู ููุณุญูุจุงุช)
- ุนุฑุถ ุนูููุงุช ุงูููุธููู
- ุฅูุดุงุก ูุนุฑุถ ุงูุชูุงุฑูุฑ
- ุงูุจุญุซ ูุงูุชุตููุฉ

### ุงููุณุชุฎุฏู ุงูุนุงุฏู (USER)
- ูุง ุตูุงุญูุงุช ุญุงููุงู (ุณูุชู ุฅุถุงูุฉ ูุณู ุฎุงุต ูุงุญูุงู)

---

## ๐ ุชุฏูู ุงูุนูู

### 1. ุชุณุฌูู ุณููุฉ ููุฏูุฉ
```
1. ุงุฎุชูุงุฑ "ุฅุฏุงุฑุฉ ุงูุณูู ูุงููุณุญูุจุงุช"
2. ุงุฎุชูุงุฑ "ุชุณุฌูู ุนูููุฉ ุฌุฏูุฏุฉ"
3. ุงุฎุชูุงุฑ ุงูููุธู
4. ุงุฎุชูุงุฑ "ุณููุฉ ููุฏูุฉ"
5. ุฅุฏุฎุงู ุงููุจูุบ
6. ูุฑุงุฌุนุฉ ูุชุฃููุฏ
7. ุญูุธ ุงูุนูููุฉ
```

### 2. ุชุณุฌูู ูุณุญูุจ ุนููู
```
1. ุงุฎุชูุงุฑ "ุฅุฏุงุฑุฉ ุงูุณูู ูุงููุณุญูุจุงุช"
2. ุงุฎุชูุงุฑ "ุชุณุฌูู ุนูููุฉ ุฌุฏูุฏุฉ"
3. ุงุฎุชูุงุฑ ุงูููุธู
4. ุงุฎุชูุงุฑ "ูุณุญูุจ ุนููู"
5. ุงุฎุชูุงุฑ ุงูุตูู ูู ุงููุงุฆูุฉ
6. ุฅุฏุฎุงู ุงููููุฉ
7. ูุฑุงุฌุนุฉ ูุชุฃููุฏ (ุงูุณุนุฑ ููุญุณุจ ุชููุงุฆูุงู)
8. ุญูุธ ุงูุนูููุฉ
```

### 3. ุฅุฏุงุฑุฉ ุงูุฃุตูุงู ุงูุนูููุฉ (ุณูุจุฑ ุฃุฏููู ููุท)
```
1. ุงุฎุชูุงุฑ "ุฅุฏุงุฑุฉ ุงูุณูู ูุงููุณุญูุจุงุช"
2. ุงุฎุชูุงุฑ "ุฅุฏุงุฑุฉ ุงูุฃุตูุงู ุงูุนูููุฉ"
3. ุฎูุงุฑุงุช:
   - ุฅุถุงูุฉ ุตูู ุฌุฏูุฏ
   - ุนุฑุถ ุชูุงุตูู ุตูู ููุฌูุฏ
   - ุชุนุฏูู ุตูู
   - ุญุฐู ุตูู (ุฅูุบุงุก ุงูุชูุนูู)
```

---

## ๐๏ธ ุงููููุงุช ุงููุถุงูุฉ

### Handlers
```
src/bot/features/hr-management/handlers/
  - advances-main.handler.ts (ูุญุฏูุซ)
  - transactions-new.handler.ts (ุฌุฏูุฏ)
  - transactions-items.handler.ts (ุฌุฏูุฏ)
  - transactions-view.handler.ts (ูุฑูุจุงู)
  - transactions-reports.handler.ts (ูุฑูุจุงู)
  - transactions-settlements.handler.ts (ูุฑูุจุงู)
```

### Schema
```
prisma/schema.prisma (ูุญุฏูุซ)
  - ุฅุถุงูุฉ model HR_AdvanceItem
  - ุฅุถุงูุฉ model HR_Transaction
  - ุฅุถุงูุฉ model HR_TransactionSettlement
  - ุฅุถุงูุฉ enum TransactionType
  - ุฅุถุงูุฉ enum SettlementType
  - ุชุญุฏูุซ model Employee ูุฅุถุงูุฉ ุนูุงูุฉ transactions
```

---

## ๐ ุงูุชูุงุฑูุฑ (ููุฏ ุงูุชุทููุฑ)

### ุงูุชูุงุฑูุฑ ุงููุชุงุญุฉ ูุฑูุจุงู:
- ุชูุฑูุฑ ุนูููุงุช ููุธู (ุดูุฑู/ุฃุณุจูุนู/ุณููู)
- ุชูุฑูุฑ ุงูุณูู ุงููุงููุฉ
- ุชูุฑูุฑ ุงููุณุญูุจุงุช ุงูุนูููุฉ
- ุชูุฑูุฑ ุงูุนูููุงุช ุบูุฑ ุงููุณูุงุฉ
- ุชูุฑูุฑ ุฅุฌูุงูู ุงููุณู

### ุงูุชุตุฏูุฑ:
- PDF
- Excel

---

## ๐ ุงูุชุทููุฑุงุช ุงููุณุชูุจููุฉ

### ุงููุฑุญูุฉ ุงููุงุฏูุฉ:
1. โ ุฅูุดุงุก handler ุนุฑุถ ุนูููุงุช ุงูููุธู
2. โ ุฅูุดุงุก handler ุงูุชูุงุฑูุฑ ุงูููุตูุฉ
3. โ ุฅูุดุงุก handler ุงูุชุณููุงุช (ุณูุจุฑ ุฃุฏููู)
4. โ ุฅุถุงูุฉ ูุธุงู ุงูููุชุฑุฉ ูุงูุจุญุซ
5. โ ุชุตุฏูุฑ ุงูุชูุงุฑูุฑ PDF/Excel
6. โณ ุฑุจุท ุงููุธุงู ุจุงูุฑูุงุชุจ ูุงูุฃุฌูุฑ
7. โณ ุฅุถุงูุฉ ูุณู ุงููุณุชุฎุฏู ุงูุนุงุฏู
8. โณ ุฅุถุงูุฉ ุงูุฅุดุนุงุฑุงุช ุงูุชููุงุฆูุฉ

---

## ๐ ููุงุญุธุงุช ูููุฉ

1. **ุฑูู ุงูุนูููุฉ ูุฑูุฏ** - ูุชู ุชูููุฏู ุชููุงุฆูุงู ุจุตูุบุฉ: `TXN_{timestamp}_{random}`
2. **ููุฏ ุงูุตูู ูุฑูุฏ** - ูุชู ุชูููุฏู ุชููุงุฆูุงู ุจุตูุบุฉ: `ITEM_{timestamp}_{random}`
3. **ุงูุญุงูุฉ ุงูุงูุชุฑุงุถูุฉ ููุนูููุฉ** - APPROVED (ููุงูู ุนูููุง ุชููุงุฆูุงู)
4. **ุงูุชุณููุฉ** - ูุชู ุชุชุจุนูุง ุนุจุฑ ุญูู `isSettled` ู `settledAt`
5. **ุงูุฃุตูุงู ุงููุญุฐููุฉ** - ูุชู ุฅูุบุงุก ุชูุนูููุง ูููุณ ุญุฐููุง ููุงุฆูุงู

---

## ๐ง ุงูุชูุงูู ูุน ุงูุฃูุธูุฉ ุงูุฃุฎุฑู

### ุงูุฃูุธูุฉ ุงููุชูุงููุฉ:
- โ ูุธุงู ุงูููุธููู (Employee)
- โ ูุธุงู ุงูุตูุงุญูุงุช (Permissions)
- โณ ูุธุงู ุงูุฑูุงุชุจ (Payroll) - ูุฑูุจุงู
- โณ ูุธุงู ุงูุชูุงุฑูุฑ (Reports) - ูุฑูุจุงู

---

## ๐ ุงูุฏุนู ุงูููู

ูููุณุงุนุฏุฉ ุฃู ุงูุฅุจูุงุบ ุนู ูุดุงูู:
- ุฑุงุฌุน ุงูุชูุซูู ุงููุงูู ูู `Documentation_Pro/`
- ุชุญูู ูู ุงูุณุฌูุงุช (logs) ูู ุญุงูุฉ ุงูุฃุฎุทุงุก
- ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ

---

**ุขุฎุฑ ุชุญุฏูุซ:** 28 ุฃูุชูุจุฑ 2025
**ุงูุฅุตุฏุงุฑ:** 1.0.0
**ุงูุญุงูุฉ:** ููุฏ ุงูุชุทููุฑ ุงููุดุท
