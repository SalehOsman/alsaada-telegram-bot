// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Ù†Ø¸Ø§Ù… Ù…Ø®Ø²Ù† Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± - Spare Parts Inventory System
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// 1ï¸âƒ£ ØªØµÙ†ÙŠÙØ§Øª Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± (Equipment Categories)
model INV_EquipmentCategory {
  id          Int       @id @default(autoincrement())
  code        String    @unique // "CAR", "LOADER", "BULLDOZER", "EXCAVATOR", "GENERAL"
  nameAr      String // "Ø³ÙŠØ§Ø±Ø§Øª"
  nameEn      String? // "Cars"
  description String?
  icon        String? // ğŸš—, ğŸšœ, ğŸ—ï¸, ğŸ”§
  orderIndex  Int       @default(0)
  isActive    Boolean   @default(true)
  createdAt   DateTime  @default(now())
  updatedAt   DateTime  @updatedAt
  createdBy   BigInt?
  updatedBy   BigInt?

  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  spareParts INV_SparePart[] @relation("CategorySpareParts")

  @@index([code])
  @@index([isActive])
  @@index([orderIndex])
  @@map("INV_EquipmentCategory")
}

// 2ï¸âƒ£ Ù…ÙˆØ§Ù‚Ø¹ Ø§Ù„ØªØ®Ø²ÙŠÙ† (Storage Locations)
model INV_StorageLocation {
  id          Int       @id @default(autoincrement())
  code        String    @unique // "CONT-1", "SHELF-A1", "RACK-5"
  nameAr      String // "ÙƒØ±Ø³ØªØ± Ø±Ù‚Ù… 1 - ÙƒØ±ÙØ§Ù† Ø§Ù„Ø¹Ø§Ù…Ù„ÙŠÙ†"
  nameEn      String? // "Container 1 - Workers Caravan"
  locationType String  @default("SHELF") // "CONTAINER", "SHELF", "RACK", "ROOM", "VEHICLE"
  locationArea String? // "Ù…Ø®Ø²Ù† Ø±Ø¦ÙŠØ³ÙŠ", "ÙˆØ±Ø´Ø©", "Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø¹Ù…Ù„"
  description  String?
  capacity     Int? // Ø§Ù„Ø³Ø¹Ø© Ø§Ù„ØªØ®Ø²ÙŠÙ†ÙŠØ© (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  notes        String?
  orderIndex   Int      @default(0)
  isActive     Boolean  @default(true)
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  createdBy    BigInt?
  updatedBy    BigInt?

  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  spareParts INV_SparePart[] @relation("LocationSpareParts")

  @@index([code])
  @@index([locationType])
  @@index([isActive])
  @@index([orderIndex])
  @@map("INV_StorageLocation")
}

// 3ï¸âƒ£ Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± (Spare Parts)
model INV_SparePart {
  id          Int    @id @default(autoincrement())
  code        String @unique // "CAR-ENG-00123" (Ù…ÙÙˆÙ„Ù‘Ø¯ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
  barcode     String @unique // "6281234567890" (EAN-13)
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø£Ø³Ø§Ø³ÙŠØ©
  nameAr      String // "ÙÙ„ØªØ± Ø²ÙŠØª Ù…Ø­Ø±Ùƒ"
  nameEn      String? // "Engine Oil Filter"
  description String? // ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ
  
  // Ø§Ù„ØªØµÙ†ÙŠÙ ÙˆØ§Ù„Ù…ÙˆÙ‚Ø¹
  categoryId  Int // Ø³ÙŠØ§Ø±Ø§ØªØŒ Ù„ÙˆØ¯Ø§Ø±ØŒ Ø¨Ù„Ø¯ÙˆØ²Ø±...
  locationId  Int? // Ù…ÙˆÙ‚Ø¹ Ø§Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠ
  
  // Ø§Ù„ÙƒÙ…ÙŠØ§Øª
  quantity         Int   @default(0) // Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ø­Ø§Ù„ÙŠØ©
  minQuantity      Int   @default(5) // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ù„Ù„ØªÙ†Ø¨ÙŠÙ‡
  maxQuantity      Int? // Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  reorderPoint     Int? // Ù†Ù‚Ø·Ø© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨
  unit             String @default("Ù‚Ø·Ø¹Ø©") // "Ù‚Ø·Ø¹Ø©", "Ø¹Ø¨ÙˆØ©", "Ø·Ù‚Ù…"
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ù…ÙˆÙ‘Ø±Ø¯ ÙˆØ§Ù„ØªÙƒÙ„ÙØ©
  supplierName     String? // Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ±Ø¯
  supplierContact  String? // Ø¬ÙˆØ§Ù„/Ø¨Ø±ÙŠØ¯ Ø§Ù„Ù…ÙˆØ±Ø¯
  lastPurchaseDate DateTime? // Ø¢Ø®Ø± ØªØ§Ø±ÙŠØ® Ø´Ø±Ø§Ø¡
  unitPrice        Float   @default(0) // Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø©
  totalValue       Float   @default(0) // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© (quantity Ã— unitPrice)
  currency         String  @default("EGP")
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ØªÙ‚Ù†ÙŠØ©
  partNumber       String? // Ø±Ù‚Ù… Ø§Ù„Ù‚Ø·Ø¹Ø© Ù…Ù† Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…ØµÙ†Ø¹Ø©
  manufacturer     String? // Ø§Ù„Ø´Ø±ÙƒØ© Ø§Ù„Ù…ØµÙ†Ø¹Ø©
  model            String? // Ø§Ù„Ù…ÙˆØ¯ÙŠÙ„ Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚
  yearFrom         Int? // Ù…Ù† Ø³Ù†Ø©
  yearTo           Int? // Ø¥Ù„Ù‰ Ø³Ù†Ø©
  specifications   Json? // Ù…ÙˆØ§ØµÙØ§Øª ØªÙ‚Ù†ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©
  
  // Ø§Ù„ØµÙˆØ± ÙˆØ§Ù„Ù…Ù„ÙØ§Øª
  imagePath        String? // Ù…Ø³Ø§Ø± Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© (uploads/inventory/spare-parts/{barcode}.jpg)
  images           Json? // ØµÙˆØ± Ø¥Ø¶Ø§ÙÙŠØ© (array of paths)
  documents        Json? // Ù…Ø³ØªÙ†Ø¯Ø§Øª (ÙÙˆØ§ØªÙŠØ±ØŒ ÙƒØªØ§Ù„ÙˆØ¬Ø§ØªØŒ Ø¥Ù„Ø®)
  
  // Ø§Ù„Ø­Ø§Ù„Ø© Ø§Ù„ÙÙŠØ²ÙŠØ§Ø¦ÙŠØ© ÙˆØ§Ù„ØªØ®Ø²ÙŠÙ†ÙŠØ©
  condition        String  @default("NEW") // "NEW", "USED", "REFURBISHED"
  status           String  @default("AVAILABLE") // "AVAILABLE", "OUT_OF_STOCK", "RESERVED", "DISCONTINUED", "DAMAGED"
  
  // Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªØ§Ù„Ù/Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ
  isDamaged        Boolean  @default(false) // Ù‡Ù„ ØªØ§Ù„ÙØ©ØŸ
  damageDate       DateTime? // ØªØ§Ø±ÙŠØ® Ø§Ù„ØªÙ„Ù
  damageReason     String? // Ø³Ø¨Ø¨ Ø§Ù„ØªÙ„Ù
  damageQuantity   Int      @default(0) // Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ØªØ§Ù„ÙØ©
  damageValue      Float    @default(0) // Ù‚ÙŠÙ…Ø© Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ
  disposalDate     DateTime? // ØªØ§Ø±ÙŠØ® Ø§Ù„ØªØ®Ù„Øµ Ù…Ù†Ù‡Ø§
  disposalMethod   String? // Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„ØªØ®Ù„Øµ: "SOLD", "RECYCLED", "DISCARDED"
  disposalApprovedBy BigInt? // Ù…Ù† ÙˆØ§ÙÙ‚ Ø¹Ù„Ù‰ Ø§Ù„ØªØ®Ù„Øµ
  
  // ğŸ”— Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ù…Ø¹Ø¯Ø§Øª (Equipment)
  compatibleEquipmentTypes Json? // [1, 5, 12] Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ø¹Ø¯Ø§Øª Ø§Ù„Ù…ØªÙˆØ§ÙÙ‚Ø©
  
  // ğŸ”— Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª (Accounting)
  accountCode      String? // Ø±Ù…Ø² Ø§Ù„Ø­Ø³Ø§Ø¨
  costCenterId     Int? // Ù…Ø±ÙƒØ² Ø§Ù„ØªÙƒÙ„ÙØ©
  
  // ğŸ”— Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„ØµÙŠØ§Ù†Ø© (Maintenance)
  maintenanceTypeId Int? // Ù†ÙˆØ¹ Ø§Ù„ØµÙŠØ§Ù†Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙÙŠÙ‡Ø§
  averageLifespan   Int? // Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ (Ø£ÙŠØ§Ù…/Ø³Ø§Ø¹Ø§Øª)
  
  // ğŸ”— Ø§Ù„Ø±Ø¨Ø· Ø¨Ø§Ù„Ù…ÙˆØ¸ÙÙŠÙ† (Employees)
  responsibleEmployeeId Int? // Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ Ø¹Ù† Ø§Ù„ØµÙ†Ù
  
  notes            String? // Ù…Ù„Ø§Ø­Ø¸Ø§Øª Ø¹Ø§Ù…Ø©
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
  isActive         Boolean  @default(true)
  createdAt        DateTime @default(now())
  updatedAt        DateTime @updatedAt
  createdBy        BigInt?
  updatedBy        BigInt?
  
  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  category         INV_EquipmentCategory @relation("CategorySpareParts", fields: [categoryId], references: [id])
  location         INV_StorageLocation?  @relation("LocationSpareParts", fields: [locationId], references: [id])
  responsibleEmployee Employee?          @relation("SparePartResponsible", fields: [responsibleEmployeeId], references: [id])
  
  transactions     INV_SparePartTransaction[] @relation("SparePartTransactions")
  usageRecords     INV_SparePartUsage[]       @relation("SparePartUsages")
  damageRecords    INV_DamageRecord[]         @relation("SparePartDamages")
  
  @@index([code])
  @@index([barcode])
  @@index([categoryId])
  @@index([locationId])
  @@index([status])
  @@index([isActive])
  @@index([quantity])
  @@index([nameAr])
  @@index([partNumber])
  @@index([manufacturer])
  @@index([responsibleEmployeeId])
  @@index([categoryId, status])
  @@index([locationId, status])
  @@map("INV_SparePart")
}

// 4ï¸âƒ£ Ø­Ø±ÙƒØ§Øª Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± (Transactions)
model INV_SparePartTransaction {
  id                Int      @id @default(autoincrement())
  transactionNumber String   @unique // "TRX-20251109-001"
  sparePartId       Int
  
  // Ù†ÙˆØ¹ Ø§Ù„Ø­Ø±ÙƒØ©
  transactionType   String // "IN" (Ø¥Ø¯Ø®Ø§Ù„), "OUT" (Ø¥Ø®Ø±Ø§Ø¬), "TRANSFER" (Ù†Ù‚Ù„), "ADJUST" (ØªØ³ÙˆÙŠØ©), "RETURN" (Ø¥Ø±Ø¬Ø§Ø¹)
  
  // Ø§Ù„ÙƒÙ…ÙŠØ§Øª
  quantity          Int // Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
  quantityBefore    Int // Ø§Ù„ÙƒÙ…ÙŠØ© Ù‚Ø¨Ù„ Ø§Ù„Ø­Ø±ÙƒØ©
  quantityAfter     Int // Ø§Ù„ÙƒÙ…ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø­Ø±ÙƒØ©
  
  // Ø§Ù„ØªÙØ§ØµÙŠÙ„ Ø­Ø³Ø¨ Ù†ÙˆØ¹ Ø§Ù„Ø­Ø±ÙƒØ©
  fromLocationId    Int? // Ù…Ù† Ù…ÙˆÙ‚Ø¹ (Ù„Ù„Ù†Ù‚Ù„)
  toLocationId      Int? // Ø¥Ù„Ù‰ Ù…ÙˆÙ‚Ø¹ (Ù„Ù„Ù†Ù‚Ù„)
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø¥Ø¶Ø§ÙÙŠØ©
  equipmentId       Int? // Ø§Ù„Ù…Ø¹Ø¯Ø© Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© Ù…Ø¹Ù‡Ø§ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)
  projectId         Int? // Ø§Ù„Ù…Ø´Ø±ÙˆØ¹ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…Ø© ÙÙŠÙ‡
  employeeId        Int? // Ø§Ù„Ù…ÙˆØ¸Ù Ø§Ù„Ù…Ø³ØªÙ„Ù…/Ø§Ù„Ù…Ø³Ù„Ù…
  employeeName      String? // Ø§Ø³Ù… Ø§Ù„Ù…ÙˆØ¸Ù (Ù„Ù„Ø­ÙØ¸ Ø§Ù„Ù…Ø¨Ø§Ø´Ø±)
  employeeCode      String? // ÙƒÙˆØ¯ Ø§Ù„Ù…ÙˆØ¸Ù
  
  // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ÙØ§ØªÙˆØ±Ø© (Ù„Ù„Ø¥Ø¯Ø®Ø§Ù„)
  invoiceNumber     String?
  supplierName      String?
  unitPrice         Float?
  totalCost         Float?
  
  // Ø§Ù„Ø³Ø¨Ø¨ ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
  reason            String? // Ø³Ø¨Ø¨ Ø§Ù„Ø­Ø±ÙƒØ©
  notes             String?
  attachments       Json? // Ù…Ø±ÙÙ‚Ø§Øª (ØµÙˆØ± Ø§Ù„ÙØ§ØªÙˆØ±Ø©ØŒ Ø¥Ù„Ø®)
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
  transactionDate   DateTime @default(now())
  createdAt         DateTime @default(now())
  createdBy         BigInt
  approvedBy        BigInt?
  approvedAt        DateTime?
  
  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  sparePart         INV_SparePart @relation("SparePartTransactions", fields: [sparePartId], references: [id])
  equipment         Equipment?    @relation("SparePartTransactionEquipment", fields: [equipmentId], references: [id])
  project           Project?      @relation("SparePartTransactionProject", fields: [projectId], references: [id])
  employee          Employee?     @relation("SparePartTransactionEmployee", fields: [employeeId], references: [id])
  
  @@index([transactionNumber])
  @@index([sparePartId])
  @@index([transactionType])
  @@index([transactionDate])
  @@index([createdBy])
  @@index([employeeId])
  @@index([equipmentId])
  @@index([projectId])
  @@index([sparePartId, transactionDate])
  @@map("INV_SparePartTransaction")
}

// 5ï¸âƒ£ Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù‚Ø·Ø¹ Ø§Ù„ØºÙŠØ§Ø± (Usage Records)
model INV_SparePartUsage {
  id             Int      @id @default(autoincrement())
  sparePartId    Int
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
  equipmentId    Int? // Ø§Ù„Ù…Ø¹Ø¯Ø© Ø§Ù„Ù…Ø±ÙƒØ¨ Ø¹Ù„ÙŠÙ‡Ø§
  equipmentName  String? // Ø§Ø³Ù… Ø§Ù„Ù…Ø¹Ø¯Ø©
  equipmentCode  String? // ÙƒÙˆØ¯ Ø§Ù„Ù…Ø¹Ø¯Ø©
  projectId      Int? // Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
  projectName    String? // Ø§Ø³Ù… Ø§Ù„Ù…Ø´Ø±ÙˆØ¹
  
  // Ø§Ù„ÙƒÙ…ÙŠØ§Øª ÙˆØ§Ù„ØªÙˆØ§Ø±ÙŠØ®
  quantity       Int
  installDate    DateTime @default(now())
  expectedLife   Int? // Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø¨Ø§Ù„Ø£ÙŠØ§Ù…/Ø§Ù„Ø³Ø§Ø¹Ø§Øª
  
  // Ø§Ù„Ø­Ø§Ù„Ø©
  status         String   @default("IN_USE") // "IN_USE", "REPLACED", "FAILED"
  replacedDate   DateTime?
  failureReason  String?
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ÙÙ†ÙŠ
  installedBy    BigInt? // Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„ØªØ±ÙƒÙŠØ¨ (User ID)
  installedByEmployeeId Int? // Ù…Ù† Ù‚Ø§Ù… Ø¨Ø§Ù„ØªØ±ÙƒÙŠØ¨ (Employee ID)
  installedByName String? // Ø§Ø³Ù… Ø§Ù„ÙÙ†ÙŠ
  notes          String?
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt
  
  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  sparePart      INV_SparePart @relation("SparePartUsages", fields: [sparePartId], references: [id])
  equipment      Equipment?    @relation("SparePartUsageEquipment", fields: [equipmentId], references: [id])
  project        Project?      @relation("SparePartUsageProject", fields: [projectId], references: [id])
  installer      Employee?     @relation("SparePartUsageInstaller", fields: [installedByEmployeeId], references: [id])
  
  @@index([sparePartId])
  @@index([equipmentId])
  @@index([projectId])
  @@index([status])
  @@index([installDate])
  @@index([installedByEmployeeId])
  @@map("INV_SparePartUsage")
}

// 6ï¸âƒ£ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† (Stock Alerts)
model INV_StockAlert {
  id           Int      @id @default(autoincrement())
  sparePartId  Int
  alertType    String // "LOW_STOCK", "OUT_OF_STOCK", "EXPIRED", "OVERSTOCK"
  alertLevel   String   @default("WARNING") // "INFO", "WARNING", "CRITICAL"
  message      String
  currentValue Int? // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø­Ø§Ù„ÙŠØ© (Ø§Ù„ÙƒÙ…ÙŠØ©)
  thresholdValue Int? // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø­Ø¯Ø¯Ø© (Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰)
  isResolved   Boolean  @default(false)
  resolvedAt   DateTime?
  resolvedBy   BigInt?
  createdAt    DateTime @default(now())
  
  @@index([sparePartId])
  @@index([alertType])
  @@index([alertLevel])
  @@index([isResolved])
  @@index([createdAt])
  @@map("INV_StockAlert")
}

// 7ï¸âƒ£ Ø³Ø¬Ù„ Ø§Ù„Ù‡ÙˆØ§Ù„Ùƒ/Ø§Ù„ØªØ§Ù„Ù (Damage Records)
model INV_DamageRecord {
  id              Int      @id @default(autoincrement())
  recordNumber    String   @unique // "DMG-20251109-001"
  sparePartId     Int
  
  // ØªÙØ§ØµÙŠÙ„ Ø§Ù„ØªÙ„Ù
  damageType      String // "EXPIRED", "BROKEN", "DEFECTIVE", "WATER_DAMAGE", "CORROSION", "OTHER"
  damageDate      DateTime @default(now())
  discoveredBy    BigInt // Ù…Ù† Ø§ÙƒØªØ´Ù Ø§Ù„ØªÙ„Ù
  
  // Ø§Ù„ÙƒÙ…ÙŠØ§Øª ÙˆØ§Ù„Ù‚ÙŠÙ…
  quantity        Int // Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„ØªØ§Ù„ÙØ©
  unitPrice       Float // Ø³Ø¹Ø± Ø§Ù„ÙˆØ­Ø¯Ø© ÙˆÙ‚Øª Ø§Ù„ØªÙ„Ù
  totalValue      Float // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ù„Ù‡Ø§Ù„Ùƒ
  
  // Ø§Ù„Ø£Ø³Ø¨Ø§Ø¨ ÙˆØ§Ù„ØªÙØ§ØµÙŠÙ„
  damageReason    String // Ø³Ø¨Ø¨ Ø§Ù„ØªÙ„Ù Ø§Ù„ØªÙØµÙŠÙ„ÙŠ
  damageSeverity  String   @default("MEDIUM") // "LOW", "MEDIUM", "HIGH", "TOTAL_LOSS"
  isRepairable    Boolean  @default(false) // Ù‡Ù„ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„Ø¥ØµÙ„Ø§Ø­ØŸ
  repairCost      Float? // ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥ØµÙ„Ø§Ø­ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹Ø©
  
  // Ø§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„Ù…ØªØ®Ø°Ø©
  actionTaken     String? // "REPAIR", "RECYCLE", "SELL_SCRAP", "DISPOSE", "PENDING"
  actionDate      DateTime?
  actionBy        BigInt?
  recoveredValue  Float    @default(0) // Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªØ±Ø¯Ø© (Ù…Ù† Ø¨ÙŠØ¹ Ø®Ø±Ø¯Ø© Ù…Ø«Ù„Ø§Ù‹)
  
  // Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª
  approvalStatus  String   @default("PENDING") // "PENDING", "APPROVED", "REJECTED"
  approvedBy      BigInt?
  approvedAt      DateTime?
  rejectionReason String?
  
  // Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙˆØ§Ù„Ù…Ù„Ø§Ø­Ø¸Ø§Øª
  photos          Json? // ØµÙˆØ± Ø§Ù„ØªÙ„Ù
  documents       Json? // ØªÙ‚Ø§Ø±ÙŠØ±ØŒ ÙÙˆØ§ØªÙŠØ± Ø¥ØµÙ„Ø§Ø­ØŒ Ø¥Ù„Ø®
  notes           String?
  
  // Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ³Ø¬ÙŠÙ„
  createdAt       DateTime @default(now())
  updatedAt       DateTime @updatedAt
  
  // Ø§Ù„Ø¹Ù„Ø§Ù‚Ø§Øª
  sparePart       INV_SparePart @relation("SparePartDamages", fields: [sparePartId], references: [id])
  
  @@index([recordNumber])
  @@index([sparePartId])
  @@index([damageType])
  @@index([damageDate])
  @@index([approvalStatus])
  @@index([actionTaken])
  @@index([discoveredBy])
  @@index([sparePartId, damageDate])
  @@map("INV_DamageRecord")
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Enums
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

// ÙŠÙ…ÙƒÙ† Ø¥Ø¶Ø§ÙØ© Enums Ù‡Ù†Ø§ Ø¥Ø°Ø§ Ù„Ø²Ù… Ø§Ù„Ø£Ù…Ø±
